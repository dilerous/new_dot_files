function createLogItem(a,b,c){var d=document.createElement("div"),e=document.createElement("small"),f=document.createElement("h3"),g=document.createElement("ul");d.className+="log_desc_item",e.textContent=a,f.appendChild(e),d.appendChild(f);var h=Object.keys(b[a]),i=b[a];h.length>0&&i&&h.forEach(function(a){var b=i[a];if(isObject(b)){var c=Object.keys(b),d=document.createElement("li");c.length>0&&(createLogItem(a,i,d),g.appendChild(d))}else if(i[a]){var d=document.createElement("li");d.textContent=a+" : "+i[a],g.appendChild(d)}}),d.appendChild(g),c?c.appendChild(d):document.getElementById("log_desc").appendChild(d)}function createLogItems(a){var b=Object.keys(a);document.getElementById("log_desc");b.forEach(function(b){createLogItem(b,a)})}function isObject(a){return null!==a&&"object"==typeof a}document.addEventListener("DOMContentLoaded",function(a){document.getElementById("container").style.display="none",chrome.runtime.sendMessage({header:"get_error_desc"})}),document.getElementById("diagnostic_header").addEventListener("click",function(a){var b=(a.target,this.getElementsByClassName("toggle-arrow")[0]);-1!==Array.prototype.slice.call(b.classList).indexOf("toggle-up")?(b.className="toggle-arrow toggle-down",document.getElementById("log_container").style.display="block"):(b.className="toggle-arrow toggle-up",document.getElementById("log_container").style.display="none")},!1),document.getElementById("send_log_btn").addEventListener("click",function(a){a.preventDefault();var b=document.getElementById("log_desc"),c=document.createRange();b.style.webkitUserSelect="text",c.selectNode(b),window.getSelection().removeAllRanges(),window.getSelection().addRange(c);try{document.execCommand("copy");window.getSelection().removeAllRanges(),b.style.webkitUserSelect="none"}catch(d){}}),chrome.runtime.onMessage.addListener(function(a,b,c){switch(a.header){case"error_page":a.container_header&&(document.getElementById("header").textContent=a.container_header),a.container_description&&(document.getElementById("description").innerHTML=a.container_description),a.display_btn?(-1!==navigator.appVersion.indexOf("Mac")&&(document.getElementById("screenshot").src="../images/screenshots_mac.png",document.getElementById("hint").style.display="block"),-1!==navigator.appVersion.indexOf("Win")&&(document.getElementById("screenshot").src="../images/screenshots_win.png",document.getElementById("hint").style.display="block"),-1!==navigator.appVersion.indexOf("Linux")&&(document.getElementById("screenshot").src="../images/screenshots_linux.png",document.getElementById("hint").style.display="block")):document.getElementById("screenshot").style.display="none",a.logs&&(createLogItems(a.logs),document.getElementById("log_header").style.display="block"),document.getElementById("container").style.display="block"}});